<!--gksudo nautilus-->


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>Udawalawa Elephants</title>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="{{url_for('static',filename='style/style.css')}}" />
<link rel="stylesheet" type="text/css" href="{{url_for('static',filename='style/colour.css')}}" />
<link rel="stylesheet" type="text/css" href="{{url_for('static',filename='style/image_viewer.css')}}"/>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<style>
</style>
</head>
<body>
<div id="logo">
  <h1>Udawalawa Elephants</h1>
  <a href="/" class="main_page_btn">Home Page</a>
  <a href="/logout" class="logout_btn">Logout</a>
</div>

<div id="site_conten">
  <div id="content">
    <div id="Identify_elephant">
      <h1 id="find_elephant">predicted elephants<span class="sub">[select the correct prediction to label the elephant]</span></h1>

      <div class="slideshow-container">

        {% for image_name in image_names%}
        <div class="mySlides fade">
          <div class="numbertemySlides fadext">{{loop.index}} / {{image_names|length}}</div>
          {%if(pred_ar[loop.index-1][0]|int != 0)%}
          <img src={{url_for('static',filename='outputs/'+image_name)}} style="width:650px; height:550px;">
          <div class="text" id="img_name_lbl">{{image_name}}</div>
          <div id="preiction_first_ear">
            <div id="pred_images_line1_images">
              <h3 id="topic_ear1">Ear 1 prediction: </h3><br>
              <a href="/anotate/{{pred_ar[loop.index-1][1]}}/{{image_name}}"><img src="{{url_for('static',filename='images/samples/'+pred_ar[loop.index-1][1]+'.JPG')}}" alt="" class="img_preds" style="width:100px; height:100px;"/></a>
              <a href="/anotate/{{pred_ar[loop.index-1][3]}}/{{image_name}}"><img src="{{url_for('static',filename='images/samples/'+pred_ar[loop.index-1][3]+'.JPG')}}" alt="" class="img_preds" style="width:100px; height:100px;"/></a>
              <a href="/anotate/{{pred_ar[loop.index-1][5]}}/{{image_name}}"><img src="{{url_for('static',filename='images/samples/'+pred_ar[loop.index-1][5]+'.JPG')}}" alt="" class="img_preds" style="width:100px; height:100px;"/></a>
              <a href="/anotate/{{pred_ar[loop.index-1][7]}}/{{image_name}}"><img src="{{url_for('static',filename='images/samples/'+pred_ar[loop.index-1][7]+'.JPG')}}" alt="" class="img_preds" style="width:100px; height:100px;"/></a>
              <a href="/anotate/{{pred_ar[loop.index-1][9]}}/{{image_name}}"><img src="{{url_for('static',filename='images/samples/'+pred_ar[loop.index-1][9]+'.JPG')}}" alt="" class="img_preds" style="width:100px; height:100px;"/></a>
            </div>
            <div id="pred_images_line1_text">
              <a href="/anotate/{{pred_ar[loop.index-1][1]}}/{{image_name}}"><p class="p1_name">name: {{pred_ar[loop.index-1][1]}} <br> probability :{{pred_ar[loop.index-1][2]}}%</p></a>
              <a href="/anotate/{{pred_ar[loop.index-1][3]}}/{{image_name}}"><p class="p1_name">name: {{pred_ar[loop.index-1][3]}} <br> probability :{{pred_ar[loop.index-1][4]}}%</p></a>
              <a href="/anotate/{{pred_ar[loop.index-1][5]}}/{{image_name}}"><p class="p1_name">name: {{pred_ar[loop.index-1][5]}} <br> probability :{{pred_ar[loop.index-1][6]}}%</p></a>
              <a href="/anotate/{{pred_ar[loop.index-1][7]}}/{{image_name}}"><p class="p1_name">name: {{pred_ar[loop.index-1][7]}} <br> probability :{{pred_ar[loop.index-1][8]}}%</p></a>
              <a href="/anotate/{{pred_ar[loop.index-1][9]}}/{{image_name}}"><p class="p1_name">name: {{pred_ar[loop.index-1][9]}} <br> probability :{{pred_ar[loop.index-1][10]}}%</p></a>
              <a href="#nogo" id="not_in_list" onclick="openForm('uniqueone{{image_name}}')">IF THIS ELEPHANT IS NOT IN THE PREDICTION LIST, CLICK HERE</a>
            </div>

          </div>

          {%if(pred_ar[loop.index-1][0]|int == 2)%}
          <div id="preiction_second_ear">
            <div id="pred_images_line2_images">
              <h3 id="topic_ear1">Ear 2 prediction: </h3><br>
              <a href="/anotate/{{pred_ar[loop.index-1][11]}}/{{image_name}}" onclick="closeForm()"><img src="{{url_for('static',filename='images/samples/'+pred_ar[loop.index-1][11]+'.JPG')}}" alt="" class="img_preds" style="width:100px; height:100px;"/></a>
              <a href="/anotate/{{pred_ar[loop.index-1][11]}}/{{image_name}}" onclick="closeForm()"><img src="{{url_for('static',filename='images/samples/'+pred_ar[loop.index-1][13]+'.JPG')}}" alt="" class="img_preds" style="width:100px; height:100px;"/></a>
              <a href="/anotate/{{pred_ar[loop.index-1][11]}}/{{image_name}}" onclick="closeForm()"><img src="{{url_for('static',filename='images/samples/'+pred_ar[loop.index-1][15]+'.JPG')}}" alt="" class="img_preds" style="width:100px; height:100px;"/></a>
              <a href="/anotate/{{pred_ar[loop.index-1][11]}}/{{image_name}}" onclick="closeForm()"><img src="{{url_for('static',filename='images/samples/'+pred_ar[loop.index-1][17]+'.JPG')}}" alt="" class="img_preds" style="width:100px; height:100px;"/></a>
              <a href="/anotate/{{pred_ar[loop.index-1][11]}}/{{image_name}}" onclick="closeForm()"><img src="{{url_for('static',filename='images/samples/'+pred_ar[loop.index-1][19]+'.JPG')}}" alt="" class="img_preds" style="width:100px; height:100px;"/></a>
            </div>
            <div id="pred_images_line2_text">
              <a href="/anotate/{{pred_ar[loop.index-1][11]}}/{{image_name}}" onclick="closeForm()"><p class="p1_name">name: {{pred_ar[loop.index-1][11]}} <br> probability :{{pred_ar[loop.index-1][12]}}%</p></a>
              <a href="/anotate/{{pred_ar[loop.index-1][13]}}/{{image_name}}" onclick="closeForm()"><p class="p1_name">name: {{pred_ar[loop.index-1][13]}} <br> probability :{{pred_ar[loop.index-1][14]}}%</p></a>
              <a href="/anotate/{{pred_ar[loop.index-1][15]}}/{{image_name}}" onclick="closeForm()"><p class="p1_name">name: {{pred_ar[loop.index-1][15]}} <br> probability :{{pred_ar[loop.index-1][16]}}%</p></a>
              <a href="/anotate/{{pred_ar[loop.index-1][17]}}/{{image_name}}" onclick="closeForm()"><p class="p1_name">name: {{pred_ar[loop.index-1][17]}} <br> probability :{{pred_ar[loop.index-1][18]}}%</p></a>
              <a href="/anotate/{{pred_ar[loop.index-1][19]}}/{{image_name}}" onclick="closeForm()"><p class="p1_name">name: {{pred_ar[loop.index-1][19]}} <br> probability :{{pred_ar[loop.index-1][20]}}%</p></a>
            </div>
          </div>
          {% endif %}
          {%else%}
          <img src={{url_for('static',filename='upload_images/'+image_name)}} style="width:650px; height:550px;">
          <div class="text" id="img_name_lbl">{{image_name}}</div>
          <h2 id="cannot_predict">Sorry, Cannot predict this image</h2>
          <a href="#nogo" id="not_in_list_cannot_predict" onclick="openForm('uniqueone{{image_name}}')">IF THIS ELEPHANT IS NOT IN THE PREDICTION LIST, CLICK HERE</a>
          {% endif %}
        </div>
        {%endfor%}

      <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
      <a class="next" onclick="plusSlides(1)">&#10095;</a>


      <br>

      <div style="text-align:center">
        {% set count = 1 %}
        {% for image_name in image_names%}
          <span class="dot" onclick="currentSlide({{count}})"></span>
          {% set count = count + 1 %}
        {%endfor%}
      </div>
      </div>


    <div class="form-popup" id="myForm">
      <form action="/add_lbl" class="form-container" method = "POST">
        <p>ENTER THE CORRECT LABEL OR CREATE NEW LABEL(This will create a new folder on server if the label is not exist)</p>
        <input type="text" placeholder="Enter the Label" name="new_label" required>
        <input type="hidden" placeholder="" id="hide_img_name" name="img_name" value="">
        <button type="submit" class="btn">Submit</button>
        <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
      </form>
    </div>
    </div>

    <div id="all_elephants">
      <h1 id="all_elephants_topic">Elephants in Udawalawa (01.01.2007)<span class="sub">[hover over thumbnails to view]</span></h1>
          {%for fullset_img_name in full_set%}
          <div id="gallery">
            <em id="thumbs">
              <a href="#nogo"><img src={{"static/images/samples/"+fullset_img_name}} alt="" /></a>
              <div id="ele_name">{{fullset_img_name[:-4]}}</div>
            </em>
          </div>
          {% endfor %}
    </div>
</div>
</div>
<script>
function openForm(img){
  document.getElementById("myForm").style.display = "block";
  document.getElementById("hide_img_name").value = img;
}
function closeForm() {
  document.getElementById("myForm").style.display = "none";
}

var slideIndex = 1;
showSlides(slideIndex);

function plusSlides(n) {
  showSlides(slideIndex += n);
  document.getElementById("myForm").style.display = "none";
}

function currentSlide(n) {
  showSlides(slideIndex = n);
}

function showSlides(n) {
  var i;
  var slides = document.getElementsByClassName("mySlides");
  var dots = document.getElementsByClassName("dot");
  if (n > slides.length) {slideIndex = 1}
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
  }
  for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
  }
  slides[slideIndex-1].style.display = "block";
  dots[slideIndex-1].className += " active";
}
</script>

</body>
</html>
